<div class="modal-overlay">
  <div class="modal-content">
    <h2>Edit Employee</h2>

    <div class="tabs">
      @for (tab of tabs; track tab) {
      <button
        type="button"
        class="tab-button"
        [class.active]="activeTab() === tab"
        [class.error]="!isTabValid(tab)"
        (click)="setActiveTab(tab)"
      >
        {{ formatTabLabel(tab) }}
      </button>
      }
    </div>

    <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
      @if (activeTab() === 'basicDetails') {
      <div class="form-section" formGroupName="basicDetails">
        <div class="form-row">
          <div class="form-field">
            <label for="firstName">First Name</label>
            <input id="firstName" formControlName="firstName" type="text" />
          </div>
          <div class="form-field">
            <label for="lastName">Last Name</label>
            <input id="lastName" formControlName="lastName" type="text" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="email">Email</label>
            <input id="email" formControlName="email" type="email" readonly />
          </div>
          <div class="form-field">
            <label for="phone">Phone</label>
            <input id="phone" formControlName="phone" type="tel" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="dateOfBirth">Date of Birth</label>
            <input id="dateOfBirth" formControlName="dateOfBirth" type="date" />
          </div>
          <div class="form-field">
            <label for="designation">Designation</label>
            <input id="designation" formControlName="designation" type="text" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="role">Role</label>
            <input id="role" formControlName="role" type="text" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="experienceYears">Experience (Years)</label>
            <input
              id="experienceYears"
              formControlName="experienceYears"
              type="number"
              min="0"
            />
          </div>
          <div class="form-field">
            <label for="experienceMonths">Experience (Months)</label>
            <input
              id="experienceMonths"
              formControlName="experienceMonths"
              type="number"
              min="0"
              max="11"
            />
          </div>
        </div>
      </div>
      } @if (activeTab() === 'addressDetails') {
      <div class="form-section" formGroupName="addressDetails">
        <div class="form-row">
          <div class="form-field">
            <label for="street">Street</label>
            <input id="street" formControlName="street" type="text" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="city">City</label>
            <input id="city" formControlName="city" type="text" />
          </div>
          <div class="form-field">
            <label for="state">State</label>
            <input id="state" formControlName="state" type="text" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label for="country">Country</label>
            <input id="country" formControlName="country" type="text" />
          </div>
          <div class="form-field">
            <label for="postalCode">Postal Code</label>
            <input id="postalCode" formControlName="postalCode" type="text" />
          </div>
        </div>
      </div>
      } @if (activeTab() === 'educationDetails') {
      <div class="form-section" formGroupName="educationDetails">
        <p>Education details content will go here</p>
      </div>
      } @if (activeTab() === 'professionalDetails') {
      <div class="form-section" formGroupName="professionalDetails">
        <p>Professional details content will go here</p>
      </div>
      }

      <div class="modal-actions">
        <button type="button" (click)="onClose()" class="cancel-button">
          Cancel
        </button>
        <button type="submit" [disabled]="!isFormValid()" class="save-button">
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>
